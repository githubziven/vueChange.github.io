{"version":3,"sources":["webpack:///./src/views/管理员/financialSettlement/vendorSettlement.vue","webpack:///./src/api/admin/usual.js?d9e3*******************","webpack:///./src/api/admin/financialSettlement.js","webpack:///vendorSettlement.vue","webpack:///./src/views/管理员/financialSettlement/vendorSettlement.vue?041a","webpack:///./src/views/管理员/financialSettlement/vendorSettlement.vue?f095","webpack:///./src/views/管理员/financialSettlement/vendorSettlement.vue?ea86"],"names":["getListIotCardByMatch","getListManufacturerGeneral","getListCTInfoGeneral","giveManufacturerAuthority","giveCTAuthority","getAndGive","data","url","method","resolve","reject","then","res","msg","mid","mList","res2","getListRechargeCommisionByManager","getListRechargeStatementByManager","getListRechargeStatementDetail","getListRechargeCommisionDetail","listRechargeCommision","listRechargeStatement"],"mappings":"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ACA;uCACA;2CACA;+EACA,kFACA;AACA;6CACA;gCACA;AACA;wCACA;kFACA,qFACA;AACA;wCACA;mBACA;8EACA;AACA;oDACA;mBACA;+DACA;AACA;;AACA;;iBACA;wHACA;oBACA;sBACA;6BACA;kDACA;WACA;yBACA;yBACA;AACA;yFACA;2BACA;oBACA;iDACA;AACA;AACA;;AACA;;iBACA;qGACA,gCACA;oBACA;sBACA;4BACA;kDACA;WACA;wBACA;yBACA;AACA;yFACA;2BACA;oBACA;iDACA;AACA;AACA;;AACA;;iBACA;2CACA,gCACA;sBACA;+EACA;WACA;qBACA;kDACA;AACA;2BACA;oBACA;iDACA;AACA;AAEA;AAjFA;AAxBA,E;;;;;;;AChGA;AACA;;;AAGA;AACA,4DAA6D,wBAAwB,GAAG,iCAAiC,oBAAoB,gBAAgB,qBAAqB,GAAG;;AAErL;;;;;;;;ACPA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACnUA;;AAEA;AACA,qCAAkQ;AAClQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,uCAAuC,kEAAkE,kFAAkF;AACjQ,+EAA+E,uCAAuC,kEAAkE,kFAAkF;AAC1Q;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"static/js/22.9c6a4f4f4c06120d266c.js","sourcesContent":["var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68264ece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./vendorSettlement.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./vendorSettlement.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68264ece\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./vendorSettlement.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-68264ece\",\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"/Users/zhongwei/ziven/public/21cn/wulian/vue-recharge/src/views/管理员/financialSettlement/vendorSettlement.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] vendorSettlement.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-68264ece\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-68264ece\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/管理员/financialSettlement/vendorSettlement.vue\n// module id = 299\n// module chunks = 22","import fetch from 'utils/fetch';\r\n\r\n//获取匹配的iccid\r\nexport function getListIotCardByMatch(data) {\r\n\t// 参数     matchValue=11\r\n\treturn fetch({\r\n\t\turl: '/recharge/manager/listIotCardByMatch.do',\r\n\t\tmethod: 'get',\r\n\t\tdata: data\r\n\t});\r\n}\r\n\r\n//获取厂商\r\nexport function getListManufacturerGeneral() {\r\n\treturn fetch({\r\n\t\turl: '/recharge/manager/listManufacturerGeneral.do',\r\n\t\tmethod: 'get'\r\n\t});\r\n\r\n}\r\n\r\n//获取电信角色\r\nexport function getListCTInfoGeneral(data) {\r\n\treturn fetch({\r\n\t\turl: '/recharge/manager/listCTInfoGeneral.do',\r\n\t\tmethod: 'get',\r\n\t\tdata: data\r\n\t});\r\n}\r\n\r\n//管理员授予厂商角色\r\nexport function giveManufacturerAuthority(data) {\r\n\t//参数  mid=1\r\n\treturn fetch({\r\n\t\turl: '/recharge/manager/giveManufacturerAuthority.do',\r\n\t\tmethod: 'post',\r\n\t\tdata: data\r\n\t});\r\n\r\n}\r\n//赋予admin电信权限\r\nexport function giveCTAuthority(data) {\r\n\t// 参数  ctId=1\r\n\t  return fetch({\r\n\t    url: '/recharge/manager/giveCTAuthority.do',\r\n\t    method: 'post',\r\n\t    data: data\r\n\t  });\r\n}\r\n//联合行为，获取厂商信息加上发送mid到服务器\r\nexport function getAndGive() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tgetListManufacturerGeneral()\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.msg == 0) {\r\n\t\t\t\t\tgiveManufacturerAuthority({\r\n\t\t\t\t\t\t\tmid: res.mList[0].mid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res2 => {\r\n\t\t\t\t\t\t\tif(res2.msg == 0) {\r\n\t\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t\t\t//this.ListIotCardInfo(1);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treject(\"改变mid发生网络错误\");\r\n\t\t\t\t\t\t\t\t//\t\t\t\t\t\t\t\tthis.$message.error('改变mid发生网络错误');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject(\"获取厂商列表信息发生网络错误\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t})\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/admin/usual.js","import fetch from 'utils/fetch';\r\n\r\nexport function getListRechargeCommisionByManager(data) {\r\n\t// 参数 month=201706&ctId=1&page=1&num=10\r\n\treturn fetch({\r\n\t  url: '/recharge/manager/listRechargeCommisionByManager.do',\r\n\t  method: 'get',\r\n\t data:data\r\n\t});\r\n\r\n}\r\n\r\n//管理员获取平台充值与厂商结算数据\r\nexport function getListRechargeStatementByManager(data) {\r\n\treturn fetch({\r\n\t\turl:'/recharge/manager/listRechargeStatementByManager.do',\r\n\t\tmethod:'get',\r\n\t\tdata:data\r\n\t})\r\n}\r\n\r\n//获取平台充值与厂商结算详单\r\nexport function getListRechargeStatementDetail(data) {\r\n\treturn fetch({\r\n\t\turl:'/recharge/manager/listRechargeStatementDetail.do',\r\n\t\tmethod:'get',\r\n\t\tdata:data\r\n\t})\r\n}\r\n\r\n//获取平台电信佣金结算详单\r\nexport function getListRechargeCommisionDetail(data) {\r\n\treturn fetch({\r\n\t\turl:'/recharge/manager/listRechargeCommisionDetail.do',\r\n\t\tmethod:'get',\r\n\t\tdata:data\r\n\t})\r\n}\r\n//电信获取平台电信佣金结算数据\r\nexport function listRechargeCommision(data){\r\n\treturn fetch({\r\n\t\turl:'/recharge/manager/listRechargeCommision.do',\r\n\t\tmethod:'get',\r\n\t\tdata:data\r\n\t})\r\n}\r\n//厂商获取平台充值与厂商结算数据\r\nexport function listRechargeStatement(data){\r\n\treturn fetch({\r\n\t\turl:'/recharge/manager/listRechargeStatement.do',\r\n\t\tmethod:'get',\r\n\t\tdata:data\r\n\t})\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/admin/financialSettlement.js","<template>\n\t<div class=\"app-container\">\n\t\t<p>\n\t\t\t<el-col :span=\"8\">\n\t\t\t\t厂商角色:\n\t\t\t\t<el-select v-model=\"value\" placeholder=\"请选择\" @change=\"companyChange\">\n\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.mid\" :label=\"item.mname\" :value=\"item.mid\">\n\t\t\t\t\t</el-option>\n\t\t\t\t</el-select>\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"8\">\n\t\t\t\t选择日期:\n\t\t\t\t<el-date-picker v-model=\"month\" filters type=\"month\" format=\"yyyy-MM\" @change=\"dateChange\" placeholder=\"选择月\" :clearable=\"false\">\n\t\t\t\t</el-date-picker>\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"8\">\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"searchAction\">查询账单</el-button>\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"searchDetailAction\">查询详单</el-button>\n\t\t\t</el-col>\n\t\t</p>\n\t\t<el-table :data=\"tableData\" border style=\"width: 100%\" v-show=\"!isDetail\" v-loading=\"isLoad\">\n\t\t\t<el-table-column prop=\"manufacturerDO.id\" label=\"客户编号\" width=\"70\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"manufacturerDO.name\" label=\"客户名称\" width=\"150\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"contractNumber\" label=\"合同编号\" width=\"150\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"time\" label=\"收入年月\" width=\"150\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"充值模式\" align=\"center\">\n\t\t\t\t<el-table-column prop=\"grossPrice\" label=\"充值流水\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"payWay\" label=\"支付渠道\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"payWayCost\" label=\"渠道成本\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"packagePrice\" label=\"流量包成本\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"grossProfit\" label=\"总毛利\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"customerRatio\" label=\"平台分成比例\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"platformProfit\" label=\"平台毛利\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"customerProfit\" label=\"客户毛利\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"卡管理费模式\" align=\"center\">\n\t\t\t\t<el-table-column prop=\"cardNum\" label=\"客户卡管理数量\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"managerRatio\" label=\"管理费（每张）\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"managerPrice\" label=\"平台管理费收入\" width=\"120\" align=\"center\">\n\t\t\t\t</el-table-column>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"platformIncome\" label=\"平台总收入\" width=\"90\" align=\"center\" fixed=\"right\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"customerIncome\" label=\"客户总收入\" width=\"90\" align=\"center\" fixed=\"right\">\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<el-table :data=\"dTableData\" border style=\"width: 100%\" v-show=\"isDetail\" v-loading=\"isLoad\">\n\t\t\t<el-table-column prop=\"orderId\" label=\"订单号\" width=\"150\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"ptId\" label=\"流量包编号\" width=\"80\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"ptName\" label=\"流量包名称\" width=\"150\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"ptPrice\" label=\"流量包原价\" width=\"150\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"discount\" label=\"折扣\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"realPrice\" label=\"流量包成本价\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"orderPrice\" label=\"订单金额\" width=\"90\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"grossProfit\" label=\"毛利（含手续费）\" width=\"90\" align=\"center\">\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<div style=\"text-align:center;margin: 20px auto;\">\n\t\t\t<el-pagination style=\"display: inline-block\" :page-size=\"10\" @current-change=\"pageChange\" :current-page.sync=\"currentPage\" layout=\"prev, pager, next, jumper\" :total=\"tableCount\">\n\t\t\t</el-pagination>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport {\n\tgetListManufacturerGeneral,\n\tgiveManufacturerAuthority\n} from 'api/admin/usual';\nimport {\n\tgetListRechargeStatementByManager,\n\tgetListRechargeStatementDetail\n} from 'api/admin/financialSettlement';\nimport { backCN } from 'utils/index';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\toptions: [],\n\t\t\tvalue: '',\n\t\t\ttableData: [],\n\t\t\tmonth: '2017-06',\n\t\t\tcurrentMonth: '201706',\n\t\t\tcurrentPage: 1,\n\t\t\ttableCount: 0,\n\t\t\tnum: 10,\n\t\t\tdTableData: [],\n\t\t\tisDetail: false,\n\t\t\tisLoad: true\n\t\t}\n\t},\n\twatch: {\n\t\toptions() {\n\t\t\tthis.value = this.options[0].mid\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.initHeader()\n\t},\n\tmethods: {\n\t\tinitHeader() {\n\t\t\tgetListManufacturerGeneral()\n\t\t\t\t.then(res => {\n\t\t\t\t\tres.msg === 0 ? this.options = res.mList : this.$message.error(backCN(res.code))\n\t\t\t\t\tres.msg != 0 ? this.isLoad = false : ''\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tthis.$message.error(backCN(err.status))\n\t\t\t\t});\n\t\t},\n\t\tdateChange(val) {\n\t\t\tthis.currentMonth = val.split('-').join('')\n\t\t\tthis.isDetail ? this.ListRechargeStatementDetail(this.currentMonth, 1, this.num)\n\t\t\t\t: this.ListRechargeStatementByManager(this.currentMonth, this.value, 1, this.num)\n\t\t},\n\t\tcompanyChange(mid) {\n\t\t\tthis.manufacturerInfoByLogin(mid)\n\t\t},\n\t\tpageChange(page) {\n\t\t\tthis.isDetail ? this.ListRechargeStatementDetail(this.currentMonth, page, this.num)\n\t\t\t\t: this.ListRechargeStatementByManager(this.currentMonth, this.value, page, this.num)\n\t\t},\n\t\tsearchAction() {\n\t\t\tthis.isDetail = false;\n\t\t\tthis.ListRechargeStatementByManager(this.currentMonth, this.value, 1, this.num)\n\t\t},\n\t\tsearchDetailAction() {\n\t\t\tthis.isDetail = true;\n\t\t\tthis.ListRechargeStatementDetail(this.currentMonth, 1, this.num)\n\t\t},\n\t\tListRechargeStatementDetail(month, page, num) {\n\t\t\tthis.isLoad = true\n\t\t\tgetListRechargeStatementDetail({ month, page, num }).then(res => {\n\t\t\t\tthis.isLoad = false\n\t\t\t\tif (res.msg == 0) {\n\t\t\t\t\tthis.dTableData = res.statementDetailList\n\t\t\t\t\tpage === 1 ? this.tableCount = res.count : ''\n\t\t\t\t} else {\n\t\t\t\t\tthis.dTableData = []\n\t\t\t\t\tthis.tableCount = 0\n\t\t\t\t}\n\t\t\t\t(res.msg != 0 && res.msg != 1) ? this.$message.error(backCN(res.code)) : ''\n\t\t\t}).catch(err => {\n\t\t\t\tthis.isLoad = false\n\t\t\t\tthis.$message.error(backCN(err.status))\n\t\t\t})\n\t\t},\n\t\tListRechargeStatementByManager(month, mid, page, num) {\n\t\t\tthis.isLoad = true\n\t\t\tgetListRechargeStatementByManager({ month, mid, page, num })\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tif (res.msg == 0) {\n\t\t\t\t\t\tthis.tableData = res.statementsList\n\t\t\t\t\t\tpage === 1 ? this.tableCount = res.count : ''\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.tableData = []\n\t\t\t\t\t\tthis.tableCount = 0\n\t\t\t\t\t}\n\t\t\t\t\t(res.msg != 0 && res.msg != 1) ? this.$message.error(backCN(res.code)) : ''\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tthis.$message.error(backCN(err.status))\n\t\t\t\t});\n\t\t},\n\t\tmanufacturerInfoByLogin(mid) {\n\t\t\tthis.isLoad = true\n\t\t\tgiveManufacturerAuthority({ mid })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.msg == 0) {\n\t\t\t\t\t\tthis.ListRechargeStatementByManager(this.currentMonth, mid, 1, this.num)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\t\tthis.$message.error(backCN(res.code))\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tthis.$message.error(backCN(err.status))\n\t\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.app-container {\n\tbackground: #f5f5f5;\n}\n\n.label-colum {\n\tfont-size: 14px;\n\tcolor: #fff;\n\tfont-weight: 100;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// vendorSettlement.vue?4adfd55e","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.app-container[data-v-68264ece] {\\n\\tbackground: #f5f5f5;\\n}\\n.label-colum[data-v-68264ece] {\\n\\tfont-size: 14px;\\n\\tcolor: #fff;\\n\\tfont-weight: 100;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-68264ece\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/管理员/financialSettlement/vendorSettlement.vue\n// module id = 829\n// module chunks = 22","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container\"\n  }, [_c('p', [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t厂商角色:\\n\\t\\t\\t\"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.companyChange\n    },\n    model: {\n      value: (_vm.value),\n      callback: function($$v) {\n        _vm.value = $$v\n      },\n      expression: \"value\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.mid,\n      attrs: {\n        \"label\": item.mname,\n        \"value\": item.mid\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t选择日期:\\n\\t\\t\\t\"), _c('el-date-picker', {\n    attrs: {\n      \"filters\": \"\",\n      \"type\": \"month\",\n      \"format\": \"yyyy-MM\",\n      \"placeholder\": \"选择月\",\n      \"clearable\": false\n    },\n    on: {\n      \"change\": _vm.dateChange\n    },\n    model: {\n      value: (_vm.month),\n      callback: function($$v) {\n        _vm.month = $$v\n      },\n      expression: \"month\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.searchAction\n    }\n  }, [_vm._v(\"查询账单\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.searchDetailAction\n    }\n  }, [_vm._v(\"查询详单\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isDetail),\n      expression: \"!isDetail\"\n    }, {\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.isLoad),\n      expression: \"isLoad\"\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"manufacturerDO.id\",\n      \"label\": \"客户编号\",\n      \"width\": \"70\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"manufacturerDO.name\",\n      \"label\": \"客户名称\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"contractNumber\",\n      \"label\": \"合同编号\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"time\",\n      \"label\": \"收入年月\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"充值模式\",\n      \"align\": \"center\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"grossPrice\",\n      \"label\": \"充值流水\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"payWay\",\n      \"label\": \"支付渠道\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"payWayCost\",\n      \"label\": \"渠道成本\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"packagePrice\",\n      \"label\": \"流量包成本\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"grossProfit\",\n      \"label\": \"总毛利\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerRatio\",\n      \"label\": \"平台分成比例\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"platformProfit\",\n      \"label\": \"平台毛利\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerProfit\",\n      \"label\": \"客户毛利\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"卡管理费模式\",\n      \"align\": \"center\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"cardNum\",\n      \"label\": \"客户卡管理数量\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"managerRatio\",\n      \"label\": \"管理费（每张）\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"managerPrice\",\n      \"label\": \"平台管理费收入\",\n      \"width\": \"120\",\n      \"align\": \"center\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"platformIncome\",\n      \"label\": \"平台总收入\",\n      \"width\": \"90\",\n      \"align\": \"center\",\n      \"fixed\": \"right\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerIncome\",\n      \"label\": \"客户总收入\",\n      \"width\": \"90\",\n      \"align\": \"center\",\n      \"fixed\": \"right\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isDetail),\n      expression: \"isDetail\"\n    }, {\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.isLoad),\n      expression: \"isLoad\"\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.dTableData,\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"orderId\",\n      \"label\": \"订单号\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"ptId\",\n      \"label\": \"流量包编号\",\n      \"width\": \"80\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"ptName\",\n      \"label\": \"流量包名称\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"ptPrice\",\n      \"label\": \"流量包原价\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"discount\",\n      \"label\": \"折扣\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"realPrice\",\n      \"label\": \"流量包成本价\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"orderPrice\",\n      \"label\": \"订单金额\",\n      \"width\": \"90\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"grossProfit\",\n      \"label\": \"毛利（含手续费）\",\n      \"width\": \"90\",\n      \"align\": \"center\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin\": \"20px auto\"\n    }\n  }, [_c('el-pagination', {\n    staticStyle: {\n      \"display\": \"inline-block\"\n    },\n    attrs: {\n      \"page-size\": 10,\n      \"current-page\": _vm.currentPage,\n      \"layout\": \"prev, pager, next, jumper\",\n      \"total\": _vm.tableCount\n    },\n    on: {\n      \"current-change\": _vm.pageChange,\n      \"update:currentPage\": function($event) {\n        _vm.currentPage = $event\n      }\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-68264ece\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-68264ece\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/管理员/financialSettlement/vendorSettlement.vue\n// module id = 873\n// module chunks = 22","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68264ece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./vendorSettlement.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5f0bf946\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68264ece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./vendorSettlement.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68264ece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./vendorSettlement.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-68264ece\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/管理员/financialSettlement/vendorSettlement.vue\n// module id = 915\n// module chunks = 22"],"sourceRoot":""}